(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{1412:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/employees",function(){return s(9754)}])},3226:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var l=s(4848),n=s(6540),i=s(1106),c=s.n(i),a=s(3914),r=s(6188);function d(e){let{children:t}=e,[s,i]=(0,n.useState)(!0),d=[{path:"/admin",icon:r.cNj,label:"HOME"},{path:"/employees",icon:r.gdJ,label:"社員一覧"},{path:"/projects",icon:r.AgW,label:"案件一覧"},{path:"/edit",icon:r.X46,label:"人員処理"},{path:"/attendance",icon:r.e68,label:"勤怠管理"},{path:"/education",icon:r.cNj,label:"新人教育"}];return(0,l.jsxs)("div",{className:"layout-container",children:[(0,l.jsx)("header",{className:"header",children:"ProtoSystem"}),(0,l.jsxs)("div",{className:"content",children:[(0,l.jsx)("nav",{className:"sidebar ".concat(s?"open":"hidden"),children:(0,l.jsx)("ul",{className:"menu",children:d.map(e=>(0,l.jsx)("li",{children:(0,l.jsxs)(c(),{href:e.path,className:"menu-item",children:[(0,l.jsx)(a.g,{icon:e.icon,style:{marginRight:"8px"}}),e.label]})},e.path))})}),(0,l.jsx)("button",{className:"sidebar-toggle-button",onClick:()=>{i(!s)},children:(0,l.jsx)(a.g,{icon:s?r.rCU:r.ckx,size:"lg"})}),(0,l.jsx)("main",{className:"main-content ".concat(s?"":"collapsed"),children:t})]})]})}},9754:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var l=s(4848),n=s(6540);s(7584);var i=s(3226),c=s(6715);let a=function(){let[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)([]),[r,d]=(0,n.useState)({}),[h,o]=(0,n.useState)(!1),[j,x]=(0,n.useState)(""),u=(0,c.useRouter)(),m=()=>{fetch("http://localhost:8080/api/employees").then(e=>e.json()).then(e=>{let s=[...e].sort((e,t)=>e.id-t.id);t(s),a(s)}).catch(e=>console.error("Error fetching employees:",e))};(0,n.useEffect)(()=>{m()},[]);let p=t=>{if(x(t),t){let s=t.toLowerCase();a(e.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(s))))}else b(r)},b=t=>{d(t);let s=e;if(Object.entries(t).forEach(e=>{let[t,l]=e;l&&(s=s.filter(e=>String(e[t]).includes(l)))}),j){let e=j.toLowerCase();s=s.filter(t=>Object.values(t).some(t=>String(t).toLowerCase().includes(e)))}a(s)};return(0,l.jsx)(i.A,{children:(0,l.jsxs)("div",{className:"employee-list",children:[(0,l.jsx)("h2",{children:"社員一覧"}),(0,l.jsx)("div",{className:"search-container",children:(0,l.jsx)("input",{type:"text",placeholder:"社員ID・氏名・メール・参画先 などで検索",value:j,onChange:e=>p(e.target.value),className:"search-input"})}),(0,l.jsxs)("div",{className:"button-container",children:[(0,l.jsx)("button",{className:"refresh-button",onClick:m,children:"ページの更新"}),(0,l.jsx)("button",{className:"add-button",onClick:()=>u.push("/employees/edit"),children:"新規追加"}),(0,l.jsx)("button",{className:"filter-button",onClick:()=>o(e=>!e),children:"フィルター"})]}),h&&(0,l.jsxs)("div",{className:"filter-options",children:[["id","name","status","project","money","in","out","mail"].map(e=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{children:[e,":"]}),(0,l.jsx)("input",{type:"text",value:r[e]||"",onChange:t=>{b({...r,[e]:t.target.value})}})]},e)),(0,l.jsx)("div",{children:(0,l.jsx)("button",{className:"reset-filter-button",onClick:()=>b({}),children:"フィルターを解除"})})]}),(0,l.jsxs)("table",{className:"styled-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"社員ID"}),(0,l.jsx)("th",{children:"氏名"}),(0,l.jsx)("th",{children:"状況"}),(0,l.jsx)("th",{children:"参画先"}),(0,l.jsx)("th",{children:"単価"}),(0,l.jsx)("th",{children:"参画開始"}),(0,l.jsx)("th",{children:"参画終了"}),(0,l.jsx)("th",{children:"メール"}),(0,l.jsx)("th",{children:"スキルシート"}),(0,l.jsx)("th",{children:"操作"})]})}),(0,l.jsx)("tbody",{children:s.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.id}),(0,l.jsx)("td",{children:e.name}),(0,l.jsx)("td",{children:e.status}),(0,l.jsx)("td",{children:e.project}),(0,l.jsx)("td",{children:e.money}),(0,l.jsx)("td",{children:e.in}),(0,l.jsx)("td",{children:e.out}),(0,l.jsx)("td",{children:e.mail}),(0,l.jsx)("td",{children:e.skillsheet?(0,l.jsx)("a",{href:e.skillsheet,target:"_blank",rel:"noopener noreferrer",children:"スキルシートを開く"}):"なし"}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{onClick:()=>u.push("/employees/edit?id=".concat(e._id)),children:"編集"})})]},e._id||e.id))})]})]})})}},7584:()=>{},6715:(e,t,s)=>{e.exports=s(4009)}},e=>{var t=t=>e(e.s=t);e.O(0,[69,269,636,593,792],()=>t(1412)),_N_E=e.O()}]);